-- Sample data for Pai Dee application
-- This script inserts example data for testing

-- Insert a sample building
INSERT INTO buildings (id, name, address, latitude, longitude, description) VALUES 
('00000000-0000-0000-0000-000000000001', 'Engineering Building', '99 Phahonyothin Road, Pathum Wan, Bangkok', 13.7563, 100.5018, 'Main engineering building at Thammasat University');

-- Insert floors
INSERT INTO floors (id, building_id, floor_number, floor_name, map_width, map_height) VALUES
('10000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 1, 'Ground Floor', 50.0, 40.0),
('10000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', 2, 'Second Floor', 50.0, 40.0),
('10000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', 3, 'Third Floor', 50.0, 40.0);

-- Insert navigation nodes for Floor 1
INSERT INTO navigation_nodes (id, floor_id, x, y, node_type, name) VALUES
-- Entrance
('20000000-0000-0000-0000-000000000001', '10000000-0000-0000-0000-000000000001', 25.0, 5.0, 'entrance', 'Main Entrance'),
-- Elevator
('20000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000001', 25.0, 20.0, 'elevator', 'Elevator Lobby'),
-- Hallway junctions
('20000000-0000-0000-0000-000000000003', '10000000-0000-0000-0000-000000000001', 15.0, 20.0, 'junction', 'West Junction'),
('20000000-0000-0000-0000-000000000004', '10000000-0000-0000-0000-000000000001', 35.0, 20.0, 'junction', 'East Junction'),
-- Room nodes Floor 1
('20000000-0000-0000-0000-000000000101', '10000000-0000-0000-0000-000000000001', 10.0, 20.0, 'room', 'Room 101'),
('20000000-0000-0000-0000-000000000102', '10000000-0000-0000-0000-000000000001', 10.0, 25.0, 'room', 'Room 102'),
('20000000-0000-0000-0000-000000000103', '10000000-0000-0000-0000-000000000001', 40.0, 20.0, 'room', 'Room 103'),
('20000000-0000-0000-0000-000000000104', '10000000-0000-0000-0000-000000000001', 40.0, 25.0, 'room', 'Room 104');

-- Insert navigation nodes for Floor 2
INSERT INTO navigation_nodes (id, floor_id, x, y, node_type, name) VALUES
-- Elevator
('20000000-0000-0000-0000-000000000012', '10000000-0000-0000-0000-000000000002', 25.0, 20.0, 'elevator', 'Elevator Lobby'),
-- Hallway junctions
('20000000-0000-0000-0000-000000000013', '10000000-0000-0000-0000-000000000002', 15.0, 20.0, 'junction', 'West Junction'),
('20000000-0000-0000-0000-000000000014', '10000000-0000-0000-0000-000000000002', 35.0, 20.0, 'junction', 'East Junction'),
-- Room nodes Floor 2
('20000000-0000-0000-0000-000000000201', '10000000-0000-0000-0000-000000000002', 10.0, 20.0, 'room', 'Room 201'),
('20000000-0000-0000-0000-000000000202', '10000000-0000-0000-0000-000000000002', 10.0, 25.0, 'room', 'Room 202'),
('20000000-0000-0000-0000-000000000203', '10000000-0000-0000-0000-000000000002', 40.0, 20.0, 'room', 'Room 203'),
('20000000-0000-0000-0000-000000000204', '10000000-0000-0000-0000-000000000002', 40.0, 25.0, 'room', 'Room 204');

-- Insert navigation nodes for Floor 3
INSERT INTO navigation_nodes (id, floor_id, x, y, node_type, name) VALUES
-- Elevator
('20000000-0000-0000-0000-000000000022', '10000000-0000-0000-0000-000000000003', 25.0, 20.0, 'elevator', 'Elevator Lobby'),
-- Hallway junctions
('20000000-0000-0000-0000-000000000023', '10000000-0000-0000-0000-000000000003', 15.0, 20.0, 'junction', 'West Junction'),
('20000000-0000-0000-0000-000000000024', '10000000-0000-0000-0000-000000000003', 35.0, 20.0, 'junction', 'East Junction'),
-- Room nodes Floor 3
('20000000-0000-0000-0000-000000000301', '10000000-0000-0000-0000-000000000003', 10.0, 20.0, 'room', 'Room 301'),
('20000000-0000-0000-0000-000000000302', '10000000-0000-0000-0000-000000000003', 10.0, 25.0, 'room', 'Room 302'),
('20000000-0000-0000-0000-000000000303', '10000000-0000-0000-0000-000000000003', 40.0, 20.0, 'room', 'Room 303'),
('20000000-0000-0000-0000-000000000304', '10000000-0000-0000-0000-000000000003', 40.0, 25.0, 'room', 'Room 304');

-- Insert rooms for Floor 1
INSERT INTO rooms (floor_id, room_number, room_name, x, y, node_id) VALUES
('10000000-0000-0000-0000-000000000001', '101', 'Lecture Hall 1', 10.0, 20.0, '20000000-0000-0000-0000-000000000101'),
('10000000-0000-0000-0000-000000000001', '102', 'Computer Lab 1', 10.0, 25.0, '20000000-0000-0000-0000-000000000102'),
('10000000-0000-0000-0000-000000000001', '103', 'Lecture Hall 2', 40.0, 20.0, '20000000-0000-0000-0000-000000000103'),
('10000000-0000-0000-0000-000000000001', '104', 'Computer Lab 2', 40.0, 25.0, '20000000-0000-0000-0000-000000000104');

-- Insert rooms for Floor 2
INSERT INTO rooms (floor_id, room_number, room_name, x, y, node_id) VALUES
('10000000-0000-0000-0000-000000000002', '201', 'Faculty Office', 10.0, 20.0, '20000000-0000-0000-0000-000000000201'),
('10000000-0000-0000-0000-000000000002', '202', 'Meeting Room 1', 10.0, 25.0, '20000000-0000-0000-0000-000000000202'),
('10000000-0000-0000-0000-000000000002', '203', 'Research Lab 1', 40.0, 20.0, '20000000-0000-0000-0000-000000000203'),
('10000000-0000-0000-0000-000000000002', '204', 'Research Lab 2', 40.0, 25.0, '20000000-0000-0000-0000-000000000204');

-- Insert rooms for Floor 3
INSERT INTO rooms (floor_id, room_number, room_name, x, y, node_id) VALUES
('10000000-0000-0000-0000-000000000003', '301', 'Library', 10.0, 20.0, '20000000-0000-0000-0000-000000000301'),
('10000000-0000-0000-0000-000000000003', '302', 'Study Room 1', 10.0, 25.0, '20000000-0000-0000-0000-000000000302'),
('10000000-0000-0000-0000-000000000003', '303', 'Study Room 2', 40.0, 20.0, '20000000-0000-0000-0000-000000000303'),
('10000000-0000-0000-0000-000000000003', '304', 'Conference Room', 40.0, 25.0, '20000000-0000-0000-0000-000000000304');

-- Insert navigation paths for Floor 1
INSERT INTO navigation_paths (from_node_id, to_node_id, distance, direction, instructions) VALUES
-- Entrance to elevator
('20000000-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000002', 15.0, 'north', 'เดินตรงไปทางทิศเหนือ'),
('20000000-0000-0000-0000-000000000002', '20000000-0000-0000-0000-000000000001', 15.0, 'south', 'เดินตรงไปทางทิศใต้'),
-- Elevator to junctions
('20000000-0000-0000-0000-000000000002', '20000000-0000-0000-0000-000000000003', 10.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000003', '20000000-0000-0000-0000-000000000002', 10.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000002', '20000000-0000-0000-0000-000000000004', 10.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000004', '20000000-0000-0000-0000-000000000002', 10.0, 'west', 'เดินไปทางซ้าย'),
-- West junction to rooms
('20000000-0000-0000-0000-000000000003', '20000000-0000-0000-0000-000000000101', 5.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000101', '20000000-0000-0000-0000-000000000003', 5.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000003', '20000000-0000-0000-0000-000000000102', 7.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000102', '20000000-0000-0000-0000-000000000003', 7.0, 'east', 'เดินไปทางขวา'),
-- East junction to rooms
('20000000-0000-0000-0000-000000000004', '20000000-0000-0000-0000-000000000103', 5.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000103', '20000000-0000-0000-0000-000000000004', 5.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000004', '20000000-0000-0000-0000-000000000104', 7.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000104', '20000000-0000-0000-0000-000000000004', 7.0, 'west', 'เดินไปทางซ้าย');

-- Insert navigation paths for Floor 2 (similar pattern)
INSERT INTO navigation_paths (from_node_id, to_node_id, distance, direction, instructions) VALUES
-- Elevator to junctions
('20000000-0000-0000-0000-000000000012', '20000000-0000-0000-0000-000000000013', 10.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000013', '20000000-0000-0000-0000-000000000012', 10.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000012', '20000000-0000-0000-0000-000000000014', 10.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000014', '20000000-0000-0000-0000-000000000012', 10.0, 'west', 'เดินไปทางซ้าย'),
-- West junction to rooms
('20000000-0000-0000-0000-000000000013', '20000000-0000-0000-0000-000000000201', 5.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000201', '20000000-0000-0000-0000-000000000013', 5.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000013', '20000000-0000-0000-0000-000000000202', 7.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000202', '20000000-0000-0000-0000-000000000013', 7.0, 'east', 'เดินไปทางขวา'),
-- East junction to rooms
('20000000-0000-0000-0000-000000000014', '20000000-0000-0000-0000-000000000203', 5.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000203', '20000000-0000-0000-0000-000000000014', 5.0, 'west', 'เดินไปทางซ้าย'),
('20000000-0000-0000-0000-000000000014', '20000000-0000-0000-0000-000000000204', 7.0, 'east', 'เดินไปทางขวา'),
('20000000-0000-0000-0000-000000000204', '20000000-0000-0000-0000-000000000014', 7.0, 'west', 'เดินไปทางซ้าย');

-- Insert sample beacons for Floor 1
INSERT INTO beacons (uuid, major, minor, floor_id, x, y, name, tx_power) VALUES
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 1, 1, '10000000-0000-0000-0000-000000000001', 10.0, 10.0, 'Beacon Floor 1 - Corner 1', -59),
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 1, 2, '10000000-0000-0000-0000-000000000001', 40.0, 10.0, 'Beacon Floor 1 - Corner 2', -59),
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 1, 3, '10000000-0000-0000-0000-000000000001', 10.0, 30.0, 'Beacon Floor 1 - Corner 3', -59),
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 1, 4, '10000000-0000-0000-0000-000000000001', 40.0, 30.0, 'Beacon Floor 1 - Corner 4', -59);

-- Insert sample beacons for Floor 2
INSERT INTO beacons (uuid, major, minor, floor_id, x, y, name, tx_power) VALUES
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 2, 1, '10000000-0000-0000-0000-000000000002', 10.0, 10.0, 'Beacon Floor 2 - Corner 1', -59),
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 2, 2, '10000000-0000-0000-0000-000000000002', 40.0, 10.0, 'Beacon Floor 2 - Corner 2', -59),
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 2, 3, '10000000-0000-0000-0000-000000000002', 10.0, 30.0, 'Beacon Floor 2 - Corner 3', -59),
('FDA50693-A4E2-4FB1-AFCF-C6EB07647825', 2, 4, '10000000-0000-0000-0000-000000000002', 40.0, 30.0, 'Beacon Floor 2 - Corner 4', -59);

-- Insert sample admin user (password: admin123)
-- Note: In production, you should use the /api/admin/register endpoint
INSERT INTO admin_users (username, password_hash, email, full_name, role) VALUES
('admin', '$2b$10$VkcFvNV0WSo11.44QJ7Ui.PO49HDYKEonTZdk78pwEb4Es0NUdE7q', 'admin@paidee.com', 'Admin User', 'super_admin')
ON CONFLICT (username) DO UPDATE SET 
  password_hash = EXCLUDED.password_hash,
  email = EXCLUDED.email,
  full_name = EXCLUDED.full_name,
  role = EXCLUDED.role;

-- Verify data insertion
SELECT 'Buildings:', COUNT(*) FROM buildings;
SELECT 'Floors:', COUNT(*) FROM floors;
SELECT 'Rooms:', COUNT(*) FROM rooms;
SELECT 'Navigation Nodes:', COUNT(*) FROM navigation_nodes;
SELECT 'Navigation Paths:', COUNT(*) FROM navigation_paths;
SELECT 'Beacons:', COUNT(*) FROM beacons;
SELECT 'Admin Users:', COUNT(*) FROM admin_users;
